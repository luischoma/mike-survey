(this["webpackJsonpmike-survey"]=this["webpackJsonpmike-survey"]||[]).push([[0],[,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(9),i=n.n(s),r=(n(15),n(16),n(4)),l=n(2),o=n(3),u=(n(17),n(18),n(0)),d=function(e){var t=e.actualPage,n=e.lastPage;return Object(u.jsxs)("div",{className:"page-counter",children:[Object(u.jsxs)("p",{className:"page-counter__actual-page",children:["step ",t]}),n&&Object(u.jsxs)("p",{className:"page-counter__last-page",children:["/",n]})]})},j=(n(20),function(e){var t=e.description,n=e.descriptionHelper;return Object(u.jsxs)("div",{className:"page-description",children:[Object(u.jsx)("p",{className:"page-description__main-description",children:t}),n&&Object(u.jsx)("p",{className:"page-description__helper",children:n})]})}),b=(n(21),function(e){var t=e.title;return Object(u.jsx)("p",{className:"page-title",children:t})}),h=(n(22),function(e){var t=e.textLabel,n=e.optional,a=void 0!==n&&n,c=e.handleChange,s=e.value;return Object(u.jsxs)("div",{className:"input",children:[Object(u.jsxs)("label",{htmlFor:t,className:"input__label",children:[t,a&&Object(u.jsx)("p",{className:"input__label--optional",children:"*"}),":"]}),Object(u.jsx)("input",{value:s,onChange:c,type:"text",id:t,className:"input__textfield"})]})}),m=(n(23),function(e){var t=e.label,n=e.data;return Object(u.jsx)("li",{className:"row-container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("p",{className:"row__label",children:[t,": "]}),Object(u.jsx)("p",{className:"row__data",children:n.toString()})]})})}),p=(n(24),function(e){var t=e.onClick,n=e.label,a=e.isChecked,c=void 0!==a&&a;return Object(u.jsxs)("div",{className:"checkbox",children:[Object(u.jsx)("button",{onClick:t,className:"checkbox__data",children:Object(u.jsx)("div",{className:"".concat(c?"checkbox__data--checked":"checkbox__data--unchecked")})}),Object(u.jsx)("label",{className:"checkbox__label",children:n})]})}),O=(n(25),function(e){var t=e.onClick,n=e.label,a=e.isChecked,c=void 0!==a&&a;return Object(u.jsxs)("div",{className:"radio-input",children:[Object(u.jsx)("button",{onClick:t,className:"radio-input__data",children:Object(u.jsx)("div",{className:"".concat(c?"radio-input__data--checked":"radio-input__data--unchecked")})}),Object(u.jsx)("label",{className:"radio-input__label",children:n})]})}),f=(n(26),function(e){var t=e.lastPage,n=e.actualPage,a=e.handleClose;return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"header__left",children:Object(u.jsx)(d,{lastPage:t,actualPage:n})}),Object(u.jsx)("div",{className:"header__right",children:Object(u.jsx)("button",{className:"header__close-button",onClick:a,children:"X"})})]})}),x=(n(27),function(e){var t=e.buttonStatus,n=void 0===t?"default":t,a=e.label,c=e.handleClick;return Object(u.jsx)("button",{className:"button button--".concat(n),onClick:c,children:a})}),v=(n(28),function(e){var t=e.textLabel,n=e.value,a=e.options,c=e.handleChange;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("label",{htmlFor:t,className:"label",children:[t,":"]}),Object(u.jsx)("div",{className:"select-container",children:Object(u.jsx)("select",{value:n,onChange:c,className:"select",children:a.map((function(e){return Object(u.jsx)("option",{className:"select__option",children:e},e)}))})})]})}),g=(n(29),function(e){var t=e.children;return Object(u.jsx)("footer",{className:"footer",children:t})}),_=function(e){var t=e.children;return Object(u.jsx)("div",{className:"base__input",children:t})},N=(n(6),n(30),function(e){var t=e.value,n=e.handleChange;return Object(u.jsxs)("div",{className:"favorite-colors",children:[Object(u.jsx)("label",{className:"favorite-colors__label",children:"favorite colors:"}),Object(u.jsx)("div",{className:"favorite-colors__options",children:Object.keys(t).map((function(e){return Object(u.jsx)(p,{label:e,isChecked:t[e],onClick:function(){return n(e)}},e)}))})]})}),k=(n(31),["man","woman","transgender","non-binary","prefer not to respond"]),y=function(e){var t=e.handleChange,n=e.value;return Object(u.jsxs)("div",{className:"gender-selector",children:[Object(u.jsx)("label",{className:"gender-selector__label",children:"gender:"}),Object(u.jsx)("div",{className:"gender-selector__options",children:k.map((function(e){return Object(u.jsx)(O,{label:e,isChecked:e===n,onClick:function(){return t(e)}},e)}))})]})},C=n(10),S=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){r()}),[e]);var i=function(e){if(e){var t=Object.assign.apply(Object,Object(C.a)(Object.values(e)).concat([{}])),n=function(e){var t=e.colors;if(t)return{colors:Object.keys(t).filter((function(e){return t[e]}))}}(t);return Object(l.a)(Object(l.a)({},t),n)}},r=function(){var t=i(e),n=Object.keys(t).filter((function(e){return"name"!==e&&"email"!==e})).map((function(e){return t[e]})).every((function(e){return Boolean(e)}));s(!!n)};return{parseSummary:i,canSave:c}},T=(n(32),function(e){var t=e.state,n=void 0===t?{}:t,a={},c=S(n),s=c.parseSummary,i=c.canSave;return n&&(a=s(n)),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"summary",children:Object.keys(a).map((function(e){return Object(u.jsx)(m,{label:e,data:a[e]},e)}))}),!i&&Object(u.jsx)("p",{className:"disclaimer",children:" in order to submit, please, complete all required fields. "})]})}),w="mike-survey",L=function(){return JSON.parse(localStorage.getItem(w))},P=function(e){var t=L();t?localStorage.setItem(w,JSON.stringify(Object(l.a)(Object(l.a)({},t),e))):localStorage.setItem(w,JSON.stringify(e))},E={1:{name:"",email:""},2:{gender:"prefer not to respond",age:"18"},3:{book:"",colors:{yellow:!1,green:!1,black:!1,red:!1,pink:!1,blue:!1,orange:!1,white:!1}}},A={1:{mainText:"we want to know you better!",helperText:"this survey won't take more than 5 minutes",title:"your identity",component:function(e){var t=e.state,n=e.handleChange,a=e.title,c=e.mainText,s=e.helperText;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"step__description",children:Object(u.jsx)(j,{description:c,descriptionHelper:s})}),Object(u.jsx)(b,{title:a}),Object(u.jsx)(_,{children:Object(u.jsx)(h,{textLabel:"name",optional:!0,value:t.name,handleChange:function(e){n({name:e.target.value,email:t.email})}})}),Object(u.jsx)(_,{children:Object(u.jsx)(h,{textLabel:"email",optional:!0,value:t.email,handleChange:function(e){n({name:t.name,email:e.target.value})}})}),Object(u.jsxs)("p",{className:"optional-disclaimer",children:["fields marked with ",Object(u.jsx)("span",{className:"optional-disclaimer__detail",children:"*"})," are optional  "]})]})},footer:[x,x],footerLabels:["previous","next"],footerStatus:["deactivated","default"]},2:{mainText:"a little bit more about you!",helperText:"3 more minutes to go",title:"your details",component:function(e){var t=e.state,n=e.handleChange,a=e.title,c=e.mainText,s=e.helperText;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"step__description",children:Object(u.jsx)(j,{description:c,descriptionHelper:s})}),Object(u.jsx)(b,{title:a}),Object(u.jsx)(_,{children:Object(u.jsx)(v,{textLabel:"age",value:t.age,options:Array.from(Array(65).keys()),handleChange:function(e){return n({age:e.target.value,gender:t.gender})}})}),Object(u.jsx)(_,{children:Object(u.jsx)(y,{value:t.gender,handleChange:function(e){return n({age:t.age,gender:e})}})})]})},footer:[x,x],footerLabels:["previous","next"],footerStatus:["lightened","default"]},3:{mainText:"about your taste!",helperText:"this is the last step before reviewing your data.",title:"your favorites",component:function(e){var t=e.state,n=e.handleChange,a=e.title,c=e.mainText,s=e.helperText;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"step__description",children:Object(u.jsx)(j,{description:c,descriptionHelper:s})}),Object(u.jsx)(b,{title:a}),Object(u.jsx)(_,{children:Object(u.jsx)(h,{textLabel:"favorite book",value:t.book,handleChange:function(e){n({book:e.target.value,colors:t.colors})}})}),Object(u.jsx)(_,{children:Object(u.jsx)(N,{value:t.colors,handleChange:function(e){return n({book:t.book,colors:Object(l.a)(Object(l.a)({},t.colors),{},Object(r.a)({},e,!t.colors[e]))})}})})]})},footer:[x,x],footerLabels:["previous","next"],footerStatus:["lightened","default"]},4:{mainText:"thank you for taking the survey!",helperText:"take a moment to review your data before finishing.",title:"your summary",component:function(e){var t=e.state,n=e.title,a=e.mainText,c=e.helperText;return Object(u.jsxs)("div",{className:"summary",children:[Object(u.jsx)("div",{className:"step__description",children:Object(u.jsx)(j,{description:a,descriptionHelper:c})}),Object(u.jsx)(b,{title:n}),Object(u.jsx)(_,{children:Object(u.jsx)(T,{state:t})})]})},footer:[x,x],footerLabels:["previous","submit"],footerStatus:["lightened","special"]}},H=function(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),c=n[0],s=n[1];return{step:c,callbacks:[function(){c>1&&s(c-1)},function(){return function(){var e=Object.keys(A).length;c<e&&s(c+1)}()}]}},I=function(){var e=H(function(){var e=L();return e&&e.step?e.step:1}()),t=e.step,n=e.callbacks,c=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1],s=L();return s?(s.dismissed||s.answered)&&n&&c(!1):P({dismissed:!1}),{popupActive:n,setPopupActive:c,onClose:function(){P(Object(l.a)(Object(l.a)({},s),{},{dismissed:!0})),c(!1)}}}(),s=c.popupActive,i=c.setPopupActive,d=c.onClose,j=Object(a.useState)(function(){var e=L();return e?Object(l.a)(Object(l.a)({},E),e):E}()),b=Object(o.a)(j,2),h=b[0],m=b[1],p=S(h).canSave,O=A[t].component;Object(a.useEffect)((function(){window.addEventListener("beforeunload",(function(){N()}))}));var x=function(){return t===Object.keys(A).length},v=function(e){return x()&&n.length===e+1},_=function(){p&&(P(h),d())},N=function(){P(Object(l.a)(Object(l.a)({},h),{},{step:t})),i(!1)};return s&&Object(u.jsx)("div",{onClick:function(){return N()},className:"popup-container",children:Object(u.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:"popup",children:Object(u.jsxs)("div",{className:"base",children:[Object(u.jsx)("div",{className:"base__header",children:Object(u.jsx)(f,{handleClose:d,actualPage:t,lastPage:Object.keys(A).length})}),Object(u.jsx)("div",{className:"base__content",children:Object(u.jsx)(O,{state:x()?h:h[t],handleChange:function(e){m(Object(l.a)(Object(l.a)({},h),{},Object(r.a)({},t,Object(l.a)({},e))))},mainText:A[t].mainText,helperText:A[t].helperText,title:A[t].title})}),Object(u.jsx)("div",{className:"base__footer",children:Object(u.jsx)(g,{children:A[t].footer.map((function(e,a){return Object(u.jsx)(e,{handleClick:v(a)?_:n[a],label:A[t].footerLabels[a],buttonStatus:A[t].footerStatus[a]},a)}))})})]})})})},J=function(){return Object(u.jsx)(I,{})};document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){if(!document.getElementById("mike-survey")){var e=document.createElement("div");e.id="mike-survey",document.body.appendChild(e)}i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(J,{})}),document.getElementById("mike-survey"))}),2e3)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.83796ed1.chunk.js.map